(()=>{"use strict";var e={882:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameContext=t.Game=void 0;const s=i(634),a=i(794);t.Game=class{constructor(e,t,i,s){this._document=e,this._boardSize=t,this._playerOne=i,this._playerTwo=s,this.createComponents()}createComponents(){this._context=new r(this._playerOne,this._playerTwo,this._document,this._boardSize)}};class r{get GameManager(){return this._gameManager}get UIManager(){return this._uiManager}constructor(e,t,i,r){this._gameManager=new s.GameManager(e,t,this),this._uiManager=new a.UIManager(i,r,this)}}t.GameContext=r},634:function(e,t,i){var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(a,r){function n(e){try{h(s.next(e))}catch(e){r(e)}}function o(e){try{h(s.throw(e))}catch(e){r(e)}}function h(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,o)}h((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GameManager=t.GameType=t.GameState=t.Players=void 0;const a=i(790);var r,n,o;!function(e){e[e.One=0]="One",e[e.Two=1]="Two"}(r||(t.Players=r={})),function(e){e[e.Menu=0]="Menu",e[e.Setup=1]="Setup",e[e.Playing=2]="Playing",e[e.Ended=3]="Ended"}(n||(t.GameState=n={})),function(e){e[e.OnePlayer=0]="OnePlayer",e[e.TwoPlayer=1]="TwoPlayer",e[e.Computer=2]="Computer"}(o||(t.GameType=o={}));class h{get ActiveIndex(){return this._activeIndex}get CurrentPlayer(){return this._currentPlayer}get GameState(){return this._currentState}get IsTwoPlayer(){return this._isTwoPlayer}get IsComputerOnly(){return this._isComputerOnly}get PlayerOne(){return this._players[0]}get PlayerTwo(){return this._players[1]}get NumPlacedShips(){return this._numPlacedShips}set NumPlacedShips(e){this._numPlacedShips=e}constructor(e,t,i){this._players=[e,t],this._currentPlayer=e,this._activeIndex=r.One,this._currentState=n.Menu,this._context=i,this._numPlacedShips=0,this._isTwoPlayer=!1}switchPlayer(){const e=Number(this._activeIndex)?r.One:r.Two;this._currentPlayer=this._players[e],this._activeIndex=e,this.GameState===n.Playing&&this.playCurrentTurn()}checkForWin(e){const t=e===r.One?this.PlayerOne:this.PlayerTwo;(e===r.One?this.PlayerTwo:this.PlayerOne).Gameboard.AllSunk&&(console.log(`${t.Name} has won the game!`),this._context.UIManager.disableBoardUI(),this._context.UIManager.removeHoverable(!0),this.switchState(n.Ended))}placeShip(e,t){const i=this._currentPlayer.AvailableShips[0];this._currentPlayer.placeShip(i,e,t)&&this._numPlacedShips++}startSetup(e){return s(this,void 0,void 0,(function*(){this._isComputerOnly=e===o.Computer,this._isTwoPlayer=e===o.TwoPlayer,this.createPlayers(this._isComputerOnly,this._isTwoPlayer),this.switchState(n.Setup),this._isComputerOnly&&(this._players[0].setupBoard(),this._players[1].setupBoard(),this._numPlacedShips=this.PlayerOne.Gameboard.NumShips+this.PlayerTwo.Gameboard.NumShips,this._context.UIManager.displayBothBoards(),this.startPlaying(),this.switchPlayer())}))}checkSetup(){if(5===this._numPlacedShips){if(this.switchPlayer(),!this._isTwoPlayer)return this.PlayerTwo.setupBoard(),this.startPlaying(),this.switchPlayer(),void this._context.UIManager.removeHoverable();setTimeout((()=>{this._context.UIManager.switchPlayer(this.ActiveIndex)}),300)}else 10===this._numPlacedShips&&(this.switchPlayer(),setTimeout((()=>{this._context.UIManager.switchPlayer(this.ActiveIndex)}),300),this._context.UIManager.removeHoverable(),this.startPlaying())}startPlaying(){this.switchState(n.Playing)}switchState(e){this._currentState=e}reset(){this.PlayerOne.reset(),this.PlayerTwo.reset(),this.switchState(n.Menu),this._currentPlayer=this.PlayerOne,this._activeIndex=r.One,this._numPlacedShips=0,this._isComputerOnly&&this._context.UIManager.displayPlayerOneBoard()}playCurrentTurn(){return s(this,void 0,void 0,(function*(){if(this._currentPlayer!==this.PlayerTwo||this._isTwoPlayer||this._isComputerOnly){if(this._isComputerOnly){const e=this._currentPlayer===this.PlayerTwo?this.PlayerOne:this.PlayerTwo,t=this._currentPlayer.generateAttackPosition(e);if(yield this.wait(200),this._context.UIManager.clickBoardSquare(t),yield this.wait(100),e.Gameboard.AllSunk)return void this.switchState(n.Ended);yield this.wait(100),this.switchPlayer()}}else{const e=this.PlayerTwo.generateAttackPosition(this.PlayerOne);setTimeout((()=>this._context.UIManager.clickBoardSquare(e)),300)}}))}wait(e){return new Promise((t=>{setTimeout(t,e)}))}createPlayers(e,t){if(e){const e=new a.Computer(this._context.UIManager.BoardSize,"P1"),t=new a.Computer(this._context.UIManager.BoardSize,"P2");return this._players[0]=e,this._players[1]=t,void(this._currentPlayer=e)}if(t){const e=new a.Player(this._context.UIManager.BoardSize,"P1"),t=new a.Player(this._context.UIManager.BoardSize,"P2");return this._players[0]=e,this._players[1]=t,void(this._currentPlayer=e)}const i=new a.Player(this._context.UIManager.BoardSize,"P1"),s=new a.Computer(this._context.UIManager.BoardSize,"P2",2);this._players[0]=i,this._players[1]=s,this._currentPlayer=i}}t.GameManager=h,e.exports={GameManager:h}},677:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Gameboard=void 0;class i{get NumShips(){return this._ships.length}get OccupiedPositions(){return this._occupiedPositions}get AllSunk(){return this._allSunk}constructor(e=10){this._ships=[],this._hitPositions=[],this._missedPositions=[],this._occupiedPositions=[],this._size=e,this.generateGrid(e)}placeShip(e,t,i=!0){const{x:s,y:a}=t;if(!this.canPlaceInPosition(e.Length,t,i))return!1;for(let t=0;t<e.Length;t++)i?(this._grid[s+t][a]=e,this._occupiedPositions.push({x:s+t,y:a})):(this._grid[s][a+t]=e,this._occupiedPositions.push({x:s,y:a+t}));return this._ships.push(e),!0}receiveAttack(e){const t=this.checkPosition(e);return t?(t.hit(),this.addHitAttack(e),this.checkAllSunk(t),!0):(this.addMissedAttack(e),!1)}isPositionHit(e,t){return t?this.checkArrayForHit(e,this._missedPositions):this.checkArrayForHit(e,this._hitPositions)}reset(){this._ships=[],this._hitPositions=[],this._missedPositions=[],this._occupiedPositions=[],this._allSunk=!1,this.generateGrid(this._size)}checkArrayForHit(e,t){return null!=t.find((t=>t.x===e.x&&t.y===e.y))}checkPosition(e){const{x:t,y:i}=e;return this._grid[t][i]}generateGrid(e){this._grid=[];for(let t=0;t<e;t++)for(let i=0;i<e;i++)this._grid[i]||(this._grid[i]=[]),this._grid[i][t]=null}canPlaceInPosition(e,t,i){if(this.hasOverlap(e,t,i))return!1;const{x:s,y:a}=t,r=s+e<=this._grid.length&&s>=0,n=a+e<=this._grid[0].length&&a>=0;return i?r:n}addMissedAttack(e){this.isPositionHit(e,!0)||this._missedPositions.push(e)}addHitAttack(e){this.isPositionHit(e,!1)||this._hitPositions.push(e)}checkAllSunk(e){e.isSunk()&&(this._allSunk=this._ships.every((e=>e.isSunk())))}hasOverlap(e,t,i){const{x:s,y:a}=t;let r=!1;for(let t=0;t<e;t++)if(i){const e={x:s+t,y:a};if(r=null!=this._occupiedPositions.find((t=>t.x===e.x&&t.y===e.y)),r)return!0}else{const e={x:s,y:a+t};if(r=null!=this._occupiedPositions.find((t=>t.x===e.x&&t.y===e.y)),r)return!0}return!1}}t.Gameboard=i,e.exports={Gameboard:i}},790:function(e,t,i){var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(a,r){function n(e){try{h(s.next(e))}catch(e){r(e)}}function o(e){try{h(s.throw(e))}catch(e){r(e)}}function h(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,o)}h((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Computer=t.Player=void 0;const a=i(677),r=i(653);class n{get Gameboard(){return this._gameboard}get AvailableShips(){return this._availableShips}get Name(){return this._name}constructor(e=10,t="Player"){this._gameboard=new a.Gameboard(e),this._availableShips=[],this._name=t,this._isComputerPlayer=!1,this._boardSize=e,this.setupShips()}reset(){this._gameboard.reset(),this.setupShips()}setupBoard(){return s(this,void 0,void 0,(function*(){for(const e of this._availableShips)this.placeShipAuto(e)}))}setupShips(){const e=new r.Ship(5,"Carrier"),t=new r.Ship(4,"Battleship"),i=new r.Ship(3,"Destroyer"),s=new r.Ship(3,"Submarine"),a=new r.Ship(2,"Patrol Boat");this._availableShips=[e,t,i,s,a]}placeShipAuto(e){const t={x:Math.floor(10*Math.random()),y:Math.floor(10*Math.random())},i=2*Math.random()>1;this._gameboard.placeShip(e,t,i)||this.placeShipAuto(e)}placeShip(e,t,i){return!!this._gameboard.placeShip(e,t,i)&&(this._availableShips.shift(),!0)}}var o;t.Player=n,function(e){e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right"}(o||(o={})),t.Computer=class extends n{constructor(e,t="Computer",i=0){super(e,t),this._isComputerPlayer=!0,this._difficulty=i,this._subsequentHitPositions=[]}generateAttackPosition(e){return 0!==this._difficulty&&this._lastHitPosition?1===this._difficulty?this.getNextAdjacentPosition(this._lastHitPosition,e):this.generateCalculatedPosition(e):this.generateRandomPosition(e)}generateRandomPosition(e){const t={x:Math.floor(10*Math.random()),y:Math.floor(10*Math.random())};return e.Gameboard.isPositionHit(t,!0)||e.Gameboard.isPositionHit(t,!1)?this.generateRandomPosition(e):(e.Gameboard.checkPosition(t)&&(this._lastHitPosition=this.calculateAdjacentPositions(t,e),this._subsequentHitPositions.push(this._lastHitPosition),this._nextDirection=null),t)}getNextAdjacentPosition(e,t){const i=e.adjacentPositions[0],s=t.Gameboard.isPositionHit(i,!0)||t.Gameboard.isPositionHit(i,!1);return!i||s?this.generateRandomPosition(t):(e.adjacentPositions.shift(),i)}generateCalculatedPosition(e){const t=this._subsequentHitPositions.length;if(0===t)return this.generateRandomPosition(e);const i=this._subsequentHitPositions[0];if(1===t&&!this._nextDirection){const t=this.getNextAdjacentPosition(i,e);if(e.Gameboard.checkPosition(t)){const i=this.calculateAdjacentPositions(t,e);this._subsequentHitPositions.push(i)}return t}if(1===t&&this._nextDirection){const t=this.getNextPosition(this._nextDirection,i.position);return this.targetNextPosition(t,i,e)}const s=this._subsequentHitPositions[t-1],a=this._subsequentHitPositions[t-2];this._nextDirection=this.calculateDirection(s.position,a.position);const r=this.getNextPosition(this._nextDirection,s.position);return this.targetNextPosition(r,i,e)}targetNextPosition(e,t,i,s=!1){const a=i.Gameboard.isPositionHit(e,!0)||i.Gameboard.isPositionHit(e,!1);if(!this.isValidPosition(e)||a){this._nextDirection=this.getOppositeDirection(this._nextDirection);const e=this.getNextPosition(this._nextDirection,t.position);if(!this.isValidPosition(e))return this._subsequentHitPositions=[],this.generateRandomPosition(i);if(!i.Gameboard.isPositionHit(e,!0)&&!i.Gameboard.isPositionHit(e,!1)){if(i.Gameboard.checkPosition(e)){const s=this.calculateAdjacentPositions(e,i);this._subsequentHitPositions=[t,s]}return e}return this._subsequentHitPositions=[],this._nextDirection=null,this.generateRandomPosition(i)}if(!a){if(i.Gameboard.checkPosition(e)){const t=this.calculateAdjacentPositions(e,i);this._subsequentHitPositions.push(t)}else s?(this._nextDirection=null,this._subsequentHitPositions=[]):(this._nextDirection=this.getOppositeDirection(this._nextDirection),this._subsequentHitPositions=[t]);return e}return this._subsequentHitPositions=[],this._nextDirection=null,this.generateRandomPosition(i)}targetAdjacentPositions(e,t){for(let i=0;i<4;i++){const s=e[i];if(s&&(!t.Gameboard.isPositionHit(s,!0)&&!t.Gameboard.isPositionHit(s,!1)))return t.Gameboard.checkPosition(s)&&this._subsequentHitPositions.push(this.calculateAdjacentPositions(s,t)),s}return this._subsequentHitPositions=[],this.generateRandomPosition(t)}getOppositeDirection(e){return e===o.Left?o.Right:e===o.Right?o.Left:e===o.Up?o.Down:o.Up}placeShipAuto(e){super.placeShipAuto(e)}calculateDirection(e,t){return e.x<t.x?o.Left:e.x>t.x?o.Right:e.y<t.y?o.Up:o.Down}getNextPosition(e,t){return console.log(e),e==o.Left?{x:t.x-1,y:t.y}:e==o.Right?{x:t.x+1,y:t.y}:e==o.Up?{x:t.x,y:t.y-1}:{x:t.x,y:t.y+1}}isValidPosition(e){return e.x>=0&&e.x<this._boardSize&&e.y>=0&&e.y<this._boardSize}calculateAdjacentPositions(e,t){const i=[];for(let s=-1;s<2;s++)for(let a=-1;a<2;a++){if(0!==s&&0!==a||0==s&&0==a)continue;if(e.x+a<0||e.x+a>=this._boardSize||e.y+s<0||e.y+s>=this._boardSize)continue;const r={x:e.x+a,y:e.y+s},n=t.Gameboard.isPositionHit(r,!0)||t.Gameboard.isPositionHit(r,!1),o=i.find((t=>t.x===e.x+a&&t.y===e.y+s));console.log(e.x+a,e.y+s),console.log(n,o),n||o||i.push({x:e.x+a,y:e.y+s})}return console.log(i),{position:e,adjacentPositions:i}}}},653:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Ship=void 0;class i{get Name(){return this._name}get Length(){return this._length}get NumHits(){return this._numHits}constructor(e,t="ship"){this._length=e,this._numHits=0,this._sunk=!1,this._name=t}hit(){this._numHits++,this._sunk=this._numHits>=this._length}isSunk(){return this._sunk}}t.Ship=i,e.exports={Ship:i}},648:function(e,t){var i=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(a,r){function n(e){try{h(s.next(e))}catch(e){r(e)}}function o(e){try{h(s.throw(e))}catch(e){r(e)}}function h(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,o)}h((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SplashScreen=void 0,t.SplashScreen=class{get Dialog(){return this._dialog}constructor(e,t,i){this._dialog=e.createElement("div"),this._dialog.setAttribute("class","dialogBox"),this._dim=e.createElement("div"),this._dim.setAttribute("class","dim"),this._text=e.createElement("h3");const s=i.GameManager.CurrentPlayer;this._text.innerText=`Switch to player: ${s.Name}`,this._document=e,this._parent=t,this.createComponents(),this.open()}open(){this._parent.appendChild(this._dim),this._dim.appendChild(this._dialog)}close(){return i(this,void 0,void 0,(function*(){return new Promise((e=>this._button.onclick=()=>e()))}))}createComponents(){this._button=this._document.createElement("button"),this._button.setAttribute("class","dialogButton"),this._dialog.appendChild(this._text),this._dialog.appendChild(this._button),this._button.innerText="OK",this._button.addEventListener("click",(()=>{this.removeDialog()}))}removeDialog(){this._parent.removeChild(this._dim)}}},794:function(e,t,i){var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(a,r){function n(e){try{h(s.next(e))}catch(e){r(e)}}function o(e){try{h(s.throw(e))}catch(e){r(e)}}function h(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(n,o)}h((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.UIManager=void 0;const a=i(648);t.UIManager=class{get BoardSize(){return this._boardSize}constructor(e,t=10,i){this._document=e,this._boardSize=t,this._main=e.getElementById("main"),this._playerOneSquares=[],this._playerTwoSquares=[],this._dummySquaresOne=[],this._dummySquaresTwo=[],this._squareListeners={},this._context=i,this._currentDisplayedPlayer=0,this._isHorizontal=!0,this._setupListenersApplied=!1,this.createComponents()}displayBothBoards(){this._boardSection.replaceChild(this._playerTwoBoard,this._dummyBoardTwo)}displayPlayerOneBoard(){this._boardSection.replaceChild(this._dummyBoardTwo,this._playerTwoBoard)}createComponents(){this.createTopSection(),this.createBoardSections(),this.createBoardSquares(),this.createBottomSection()}createBoardSections(){this._boardSection=document.createElement("div"),this._boardSection.id="boardSection",this._playerOneBoard=document.createElement("div"),this._playerOneBoard.className="gameBoard",this._playerOneBoard.id="boardOne",this._playerTwoBoard=document.createElement("div"),this._playerTwoBoard.className="gameBoard",this._playerTwoBoard.id="boardTwo",this._dummyBoardOne=document.createElement("div"),this._dummyBoardOne.className="gameBoard",this._dummyBoardTwo=document.createElement("div"),this._dummyBoardTwo.className="gameBoard",this._main.appendChild(this._boardSection)}createBoardSquares(){for(let e=0;e<this._boardSize;e++)for(let t=0;t<this._boardSize;t++)this._playerOneSquares[t]||this._playerTwoSquares[t]||(this._playerOneSquares[t]=[],this._playerTwoSquares[t]=[]),this._dummySquaresOne[t]||this._dummySquaresTwo[t]||(this._dummySquaresOne[t]=[],this._dummySquaresTwo[t]=[]),this.createMainSquare(t,e),this.createDummySquare(t,e);this._playerOneBoard.setAttribute("style",`grid-template-columns: repeat(${this._boardSize}, 1fr)`),this._playerTwoBoard.setAttribute("style",`grid-template-columns: repeat(${this._boardSize}, 1fr)`),this._dummyBoardOne.setAttribute("style",`grid-template-columns: repeat(${this._boardSize}, 1fr)`),this._dummyBoardTwo.setAttribute("style",`grid-template-columns: repeat(${this._boardSize}, 1fr)`),this._boardSection.appendChild(this._playerOneBoard),this._boardSection.appendChild(this._dummyBoardTwo)}createBottomSection(){const e=document.createElement("div"),t=document.createElement("button");t.innerText="Start";const i=document.createElement("button");i.innerText="Reset";const s=document.createElement("div");this.createRadioButtons(s),t.addEventListener("click",(()=>{const e=this.getGameType();this._context.GameManager.startSetup(e),t.disabled=!0,this.colourSquares(),this.enableUI(),this.applyHoverable(),this._setupListenersApplied||this.applyMainSquareListeners(),this.reloadCss()})),i.addEventListener("click",(()=>{this._context.GameManager.reset(),this.resetSquares(),this.removeHoverable(),this.switchPlayer(0),t.disabled=!1,this.reloadCss()})),e.appendChild(t),e.appendChild(i),e.appendChild(s),this._main.appendChild(e)}createRadioButtons(e){const t=document.createElement("input");t.setAttribute("name","gameType"),t.setAttribute("type","radio"),t.setAttribute("value","1P"),t.setAttribute("id","OnePGame"),t.setAttribute("checked","true");const i=document.createElement("label");i.setAttribute("for","OnePGame"),i.innerText="1P";const s=document.createElement("input");s.setAttribute("name","gameType"),s.setAttribute("type","radio"),s.setAttribute("value","2P"),s.setAttribute("id","twoPGame");const a=document.createElement("label");a.setAttribute("for","twoPGame"),a.innerText="2P";const r=document.createElement("input");r.setAttribute("name","gameType"),r.setAttribute("type","radio"),r.setAttribute("value","Comp"),r.setAttribute("id","compGame");const n=document.createElement("label");n.setAttribute("for","compGame"),n.innerText="COMP",e.appendChild(t),e.appendChild(i),e.appendChild(s),e.appendChild(a),this._radioButtons=[t,s,r]}colourSquares(){const{PlayerOne:e,PlayerTwo:t}=this._context.GameManager;for(const t of e.Gameboard.OccupiedPositions){const e=this._playerOneSquares[t.x][t.y];e.classList.add("clickedSquare"),e.classList.remove("blankSquare"),e.classList.remove("hoverableSquare")}for(const e of t.Gameboard.OccupiedPositions){const t=this._playerTwoSquares[e.x][e.y];t.classList.add("clickedSquare"),t.classList.remove("blankSquare"),t.classList.remove("hoverableSquare")}}resetSquares(){this.disableBoardUI();for(let e=0;e<this._boardSize;e++)for(let t=0;t<this._boardSize;t++)this._playerOneSquares[t][e].classList.add("blankSquare"),this._playerTwoSquares[t][e].classList.add("blankSquare"),this._dummySquaresOne[t][e].classList.add("blankSquare"),this._dummySquaresTwo[t][e].classList.add("blankSquare"),this._playerOneSquares[t][e].classList.remove("clickedSquare"),this._playerTwoSquares[t][e].classList.remove("clickedSquare"),this._dummySquaresOne[t][e].classList.remove("clickedSquare"),this._dummySquaresTwo[t][e].classList.remove("clickedSquare"),this._dummySquaresOne[t][e].removeAttribute("style"),this._dummySquaresTwo[t][e].removeAttribute("style"),this._playerOneSquares[t][e].removeAttribute("style"),this._playerTwoSquares[t][e].removeAttribute("style"),this.applyListeners(this._dummySquaresOne[t][e],this._dummySquaresTwo[t][e],{x:t,y:e})}clickBoardSquare(e){const t=this._context.GameManager;let i,s,a=!1;0===t.ActiveIndex?(a=t.PlayerTwo.Gameboard.receiveAttack(e),i=this._playerTwoSquares[e.x][e.y],s=this._dummySquaresTwo[e.x][e.y]):(a=t.PlayerOne.Gameboard.receiveAttack(e),i=this._playerOneSquares[e.x][e.y],s=this._dummySquaresOne[e.x][e.y]),this.changeSquareColour(a,i,s),t.checkForWin(t.ActiveIndex),t.switchPlayer(),this._context.GameManager.IsTwoPlayer&&this.switchPlayer(t.ActiveIndex)}enableUI(){for(let e=0;e<this._boardSize;e++)for(let t=0;t<this._boardSize;t++)this.applyListeners(this._dummySquaresOne[t][e],this._dummySquaresTwo[t][e],{x:t,y:e})}disableBoardUI(){for(let e=0;e<this._boardSize;e++)for(let t=0;t<this._boardSize;t++)this._squareListeners[this.getListenerKey({x:t,y:e})]&&(this._dummySquaresOne[t][e].removeEventListener("click",this._squareListeners[this.getListenerKey({x:t,y:e})]),delete this._squareListeners[this.getListenerKey({x:t,y:e})]),this._squareListeners[this.getListenerKey({x:t,y:e},!1)]&&(this._dummySquaresTwo[t][e].removeEventListener("click",this._squareListeners[this.getListenerKey({x:t,y:e},!1)]),delete this._squareListeners[this.getListenerKey({x:t,y:e},!1)])}changeSquareColour(e,t,i){const s=e?"green":"red";t.setAttribute("style",`background-color: ${s}`),t.removeEventListener("click",this.clickBoardSquare),i.setAttribute("style",`background-color: ${s}`),i.removeEventListener("click",this.clickBoardSquare)}switchPlayer(e){return s(this,void 0,void 0,(function*(){const t=this._context.GameManager.GameState;if(1===t||2===t){const e=new a.SplashScreen(this._document,this._main,this._context);yield e.close()}if(e!==this._currentDisplayedPlayer){if(1===e)return this._currentDisplayedPlayer=e,this._boardSection.replaceChild(this._dummyBoardOne,this._playerOneBoard),void this._boardSection.replaceChild(this._playerTwoBoard,this._dummyBoardTwo);this._currentDisplayedPlayer=e,this._boardSection.replaceChild(this._dummyBoardTwo,this._playerTwoBoard),this._boardSection.replaceChild(this._playerOneBoard,this._dummyBoardOne)}}))}removeHoverable(e=!1){if(e)for(let e=0;e<this._boardSize;e++)for(let t=0;t<this._boardSize;t++)this._dummySquaresOne[t][e].classList.remove("hoverableSquare"),this._dummySquaresTwo[t][e].classList.remove("hoverableSquare");for(let e=0;e<this._boardSize;e++)for(let t=0;t<this._boardSize;t++)this._playerOneSquares[t][e].classList.remove("hoverableSquare"),this._playerTwoSquares[t][e].classList.remove("hoverableSquare")}applyHoverable(){for(let e=0;e<this._boardSize;e++)for(let t=0;t<this._boardSize;t++)this._playerOneSquares[t][e].classList.add("hoverableSquare"),this._playerTwoSquares[t][e].classList.add("hoverableSquare"),this._dummySquaresOne[t][e].classList.add("hoverableSquare"),this._dummySquaresTwo[t][e].classList.add("hoverableSquare")}createMainSquare(e,t){const i=document.createElement("div"),s=document.createElement("div");i.className=s.className="boardSquare",i.id=`PlayerOne-Square0${e}-${t}`,s.id=`playerTwo-Square-${e}-${t}`,this._playerOneSquares[e][t]=i,this._playerTwoSquares[e][t]=s,this._playerOneBoard.appendChild(i),this._playerTwoBoard.appendChild(s)}applyMainSquareListeners(){for(let e=0;e<this._boardSize;e++)for(let t=0;t<this._boardSize;t++){const i=this._playerOneSquares[t][e],s=this._playerTwoSquares[t][e],a={x:t,y:e};this.applyMainSquareListener(i,s,a)}this._setupListenersApplied=!0}applyMainSquareListener(e,t,i){const s=()=>{1===this._context.GameManager.GameState&&(this._context.GameManager.placeShip(i,this._isHorizontal),this._context.GameManager.checkSetup(),this.colourSquares())};e.addEventListener("click",s),t.addEventListener("click",s)}createDummySquare(e,t){const i=document.createElement("div");i.classList.add("boardSquare"),i.classList.add("dummy"),this._dummyBoardOne.appendChild(i),this._dummySquaresOne[e][t]=i;const s=document.createElement("div");s.classList.add("boardSquare"),s.classList.add("dummy"),this._dummyBoardTwo.appendChild(s),this._dummySquaresTwo[e][t]=s}getListenerKey(e,t=!0){return t?`board-square-${e.x}-${e.y}`:`board-square-two-${e.x}-${e.y}`}applyListeners(e,t,i){const s=()=>{0!==this._context.GameManager.ActiveIndex&&2===this._context.GameManager.GameState&&(this.clickBoardSquare(i),e.removeEventListener("click",s),delete this._squareListeners[this.getListenerKey(i)])},a=()=>{1!==this._context.GameManager.ActiveIndex&&2===this._context.GameManager.GameState&&(this.clickBoardSquare(i),t.removeEventListener("click",a),delete this._squareListeners[this.getListenerKey(i,!1)])};this._squareListeners[this.getListenerKey(i)]=s,this._squareListeners[this.getListenerKey(i,!1)]=a,e.addEventListener("click",s),t.addEventListener("click",a)}createTopSection(){this._topSection=document.createElement("div");const e=document.createElement("button");e.innerText="Horizontal",e.addEventListener("click",(()=>{this._isHorizontal=!this._isHorizontal;const t=this._isHorizontal?"Horizontal":"Vertical";e.innerText=t})),this._topSection.appendChild(e),this._main.appendChild(this._topSection)}reloadCss(){const e=document.getElementsByTagName("link");for(const t in e){const i=e[t];"stylesheet"===i.rel&&(i.href+="")}}getGameType(){const e=this._radioButtons.filter((e=>e.checked))[0];return this._radioButtons.indexOf(e)}}}},t={};function i(s){var a=t[s];if(void 0!==a)return a.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,i),r.exports}(()=>{const e=i(790),t=i(882),s=(document.getElementById("main"),new e.Player(10)),a=new e.Computer(10);new t.Game(document,10,s,a)})()})();